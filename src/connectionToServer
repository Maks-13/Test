
let variable = document.querySelector("specialStyle");
let x = 0;

window.onload = function () {
    UpdateDisplay();
};

function UpdateDisplay() {
    const url = 'http://localhost:3000';
    let response;
    let request = new XMLHttpRequest();
    request.open('GET', url, true);
    request.send();

    request.onreadystatechange = function () {

        const id = "idKindsItems";
        const item = "KindItem";
        const price = "PriceOneItem";
        const amount = "AmountItems";

        if (this.readyState != 4) return;

        if (request.status != 200) {
            alert(request.status + ":" + request.status);

        } else {
            response = Array.from(JSON.parse(request.response));
            for (let obj of response) {
                createElementForInsert(obj[id], obj[item], obj[price], obj[amount]);
            }
        }

    }
}

function createElementForInsert(a, b, c, d) {
    function Create(className) {
        this.func1 = function (num, digit, firstElem, secondElem = null) {
            let popUp1 = document.querySelector('.design_table');
            let div11 = document.createElement('div');
            div11.className = "elem";
            popUp1.append(div11);
            let measure = popUp1.lastChild;
            let span2 = document.createElement('span');
            span2.className = "specialStyle";
            span2.innerHTML = firstElem;
            measure.prepend(span2);
            if (num == 0){
            let span1 = document.createElement('span');
            span1.className = "number";

            span1.innerHTML = secondElem; 
            measure.prepend(span1);
        }
    };
        this.className = className;
    };

    let create = new Create('measure');
    create.func1(0, '1', b, a);
    create.func1(1, '2', c);
    create.func1(2, '3', d);
    x++;
}

